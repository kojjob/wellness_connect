<%
  # Toast partial - individual flash message
  # Params: type (symbol), message (string)

  # Map flash types to CSS classes and icons
  toast_config = {
    success: {
      container_class: "bg-green-50 border-green-500 text-green-800",
      icon_class: "text-green-500",
      icon_path: "M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
    },
    error: {
      container_class: "bg-red-50 border-red-500 text-red-800",
      icon_class: "text-red-500",
      icon_path: "M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
    },
    warning: {
      container_class: "bg-yellow-50 border-yellow-500 text-yellow-800",
      icon_class: "text-yellow-500",
      icon_path: "M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
    },
    info: {
      container_class: "bg-blue-50 border-blue-500 text-blue-800",
      icon_class: "text-blue-500",
      icon_path: "m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"
    },
    notice: {
      container_class: "bg-gray-50 border-gray-500 text-gray-800",
      icon_class: "text-gray-500",
      icon_path: "M11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"
    },
    alert: {
      container_class: "bg-red-50 border-red-500 text-red-800",
      icon_class: "text-red-500",
      icon_path: "M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
    }
  }

  config = toast_config[type] || toast_config[:notice]
%>

<div data-controller="toast"
     data-toast-auto-dismiss-value="true"
     data-toast-duration-value="5000"
     data-action="mouseenter->toast#pauseAutoDismiss mouseleave->toast#resumeAutoDismiss"
     class="toast-<%= type %> pointer-events-auto flex items-start gap-3 p-4 rounded-lg border-l-4 shadow-lg max-w-md <%= config[:container_class] %>"
     role="alert"
     aria-live="polite">

  <!-- Icon -->
  <div class="flex-shrink-0">
    <svg class="w-6 h-6 <%= config[:icon_class] %>" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="<%= config[:icon_path] %>" />
    </svg>
  </div>

  <!-- Message -->
  <div class="flex-1 pt-0.5">
    <p class="text-sm font-medium leading-5">
      <%= message %>
    </p>
  </div>

  <!-- Dismiss button -->
  <button type="button"
          data-action="click->toast#dismiss"
          class="flex-shrink-0 inline-flex rounded-md p-1.5 hover:bg-black/5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent transition-colors"
          aria-label="Dismiss notification">
    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
    </svg>
  </button>
</div>
